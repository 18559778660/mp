(window.webpackJsonpMp=window.webpackJsonpMp||[]).push([[338],{3253:function(n,e,i){var t,r;window,void 0===(r="function"==typeof(t=function(){var n=window.WX_BJ_REPORT||{};return function(n){if(!n.TryJs){var e=window;n.TryJs={isCatchTimeout:!1,isCatchJquery:!1,isCatchCmd:!1,isTryed:!1,_onThrow:function(n){n.stack&&console&&console.error&&console.error(n.stack)}};var i=function(e,i){return function(){try{return e.apply(this,i||arguments)}catch(e){n.TryJs._onThrow(e)}}},t=function(e,i){return function(){try{return e.apply(this,arguments)}catch(e){n.TryJs._onThrow(e,{cid:i})}}};return n.TryJs=c(n.TryJs,{init:function(e){e&&(n.TryJs._onThrow=e),f()},catchJquery:s,catchCmd:a,run:f})}function r(n){return"function"==typeof n}function o(n,e){return function(){for(var t,o,s=[],c=0,a=arguments.length;c<a;c++)r(t=arguments[c])&&(o=i(t))&&(t.tryWrap=o)&&(t=o),s.push(t);return n.apply(e||this,s)}}function s(){if(n.TryJs.isCatchJquery)return n.TryJs;var t=e.jQuery;if(t&&t.event){var s=t.event.add,c=t.ajax,a=t.event.remove;if(s&&(t.event.add=o(s),t.event.remove=function(){for(var n,e=[],i=0,t=arguments.length;i<t;i++)r(n=arguments[i])&&(n=n.tryWrap),e.push(n);return a.apply(this,e)}),c&&(t.ajax=function(n,e){return e||(e=n,n=void 0),function(n){var e,t;for(e in n)r(t=n[e])&&(n[e]=i(t))}(e),n?c.call(t,n,e):c.call(t,e)}),jQuery.zepto){var f=t.fn.on,u=t.fn.off;t.fn.on=o(f),t.fn.off=function(){for(var n,e=[],i=0,t=arguments.length;i<t;i++)r(n=arguments[i])&&(n=n.tryWrap),e.push(n);return u.apply(this,e)}}return n.TryJs.isCatchJquery=!0,n.TryJs}}function c(n,e){var i;for(i in e)n[i]=e[i];return n}function a(){if(n.TryJs.isCatchCmd)return n.TryJs;e.require;var o,s=e.define;return e.seajs&&s&&(e.define=function(){for(var n,e=[],i=0,o=arguments.length;i<o;i++)r(n=arguments[i])&&((n=t(n,arguments[0])).toString=function(n){return function(){return n.toString()}}(arguments[i])),e.push(n);return s.apply(this,e)},e.seajs.use=(o=e.seajs.use,function(){for(var n,e=[],t=0,s=arguments.length;t<s;t++)r(n=arguments[t])&&(n=i(n)),e.push(n);return o.apply(this,e)}),c(e.define,s),n.TryJs.isCatchCmd=!0),n.TryJs}function f(){s(),a(),function(){if(n.TryJs.isCatchTimeout)return n.TryJs;var t=function(n){return function(e,t){if("string"==typeof e)try{e=new Function(e)}catch(n){throw n}var r=[].slice.call(arguments,2);return e=i(e,r.length&&r),n(e,t)}};e.setTimeout=t(e.setTimeout),e.setInterval=t(e.setInterval),n.TryJs.isCatchTimeout=!0,n.TryJs}()}}(n),function(n){if(!n.BadJs){var e=function(n,e){for(var i in e)n[i]=e[i];return n};n.BadJs={uin:0,mid:"",_cache:{},_info:{},_hookCallback:null,ignorePath:!0,throw:function(n,e){throw this.onError(n,e),n},onError:function(i,t){try{if(1==i.BADJS_EXCUTED)return;i.BADJS_EXCUTED=!0;var r=function(e){e._info=e.info||{};var i=function(e){var i=e.stack||"",t={info:i,file:e.file||"",line:e.line||"",col:e.col||""};if(""==t.file){var r=i.split(/\bat\b/);if(r&&r[1]){var o=/(https?:\/\/[^\n]+)\:(\d+)\:(\d+)/.exec(r[1]);o&&(o[1]&&o[1]!=t.file&&(t.file&&(e._info.file=t.file),t.file=o[1]),o[2]&&o[2]!=t.line&&(t.line&&(e._info.line=t.line),t.line=o[2]),o[3]&&o[3]!=t.col&&(t.col&&(e._info.col=t.col),t.col=o[3]))}}return t&&t.file&&t.file.length>0&&(t.info=t.info.replace(new RegExp(t.file.split("?")[0],"gi"),"__FILE__")),n.BadJs.ignorePath&&(t.info=t.info.replace(/http(s)?\:[^:\n]*\//gi,"").replace(/\n/gi,"")),t}(e);return{name:e.name,key:e.message,msg:e.message,_info:e._info,stack:i.info,file:i.file,line:i.line,col:i.col,client_version:""}}(i);if(r.uin=this.uin,r.mid=this.mid,r.view=this.view,t&&(t._info=t.info,r=e(r,t)),r.cid&&(r.key="["+r.cid+"]:"+r.key),r._info=e(r._info,this._info),r._info&&("[object Object]"==Object.prototype.toString.call(r._info)?r.msg+=" || info:"+JSON.stringify(r._info):(Object.prototype.toString.call(r._info),r.msg+=" || info:"+r._info)),"function"==typeof this._hookCallback&&!1===this._hookCallback(r))return;return this._send(r),n.BadJs}catch(i){console.error(i)}},winErr:function(e){if("unhandledrejection"===e.type)n.BadJs.onError(i(e.type,e.reason,"","","",e.reason));else{if(e.error&&e.error.BADJS_EXCUTED)return;n.BadJs.onError(i("BadjsWindowError",e.message,e.filename,e.lineno,e.colno,e.error))}},init:function(e,i,t,r){return this.uin=e||this.uin,this.mid=i||this.mid,this.view=t||this.view,!1!==r&&(n.TryJs.init((function(e,i){n.BadJs.throw.call(n.BadJs,e,i)})),window.addEventListener&&window.addEventListener("error",n.BadJs.winErr),window.addEventListener&&window.addEventListener("unhandledrejection",n.BadJs.winErr)),n.BadJs},hook:function(e){return this._hookCallback=e,n.BadJs},_send:function(e){if(e.mid){var i=[e.mid,e.name,e.key].join("|");if(!this._cache||!this._cache[i])return this._cache&&(this._cache[i]=!0),this._xhr(e),n.BadJs}},_xhr:function(n){var e;if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){e=!1}}else window.XMLHttpRequest&&(e=new XMLHttpRequest);var i="";for(var t in n)t&&n[t]&&(i+=[t,"=",encodeURIComponent(n[t]),"&"].join(""));e&&e.open?(e.open("POST","https://badjs.weixinbridge.com/report",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.onreadystatechange=function(n){},e.send(i.slice(0,-1))):(new Image).src="https://badjs.weixinbridge.com/report?"+i},report:function(n,e,t){return this.onError(i(n,e),t),this},mark:function(n){this._info=e(this._info,n)},nocache:function(){return this._cache=!1,n.BadJs}},n.BadJs}function i(n,e,i,t,r,o){return{name:n||"",message:e||"",file:i||"",line:t||"",col:r||"",stack:o&&o.stack||""}}}(n),n})?t.call(e,i,e,n):t)||(n.exports=r)}}]);